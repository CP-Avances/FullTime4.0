<div id="titulo">
    <mat-icon id="movilidad" class="float-left">open_with</mat-icon>
    <span cdkDrag cdkDragRootElement=".cdk-overlay-pane">
        REGISTRAR TIMBRE
    </span>
    <mat-icon class="float-right" id="cerrar" (click)="ventana.close({close: true})">highlight_off</mat-icon>
</div>

<form [formGroup]="formulario">
    <div class="container">
        <div class="nota" id="espacio">
            <span>
                NOTA: Por favor llenar todos los campos obligatorios (*) del formulario para activar el botón
                Timbrar.
            </span>
        </div>
        <div class="d-flex flex-wrap justify-content-between">
            <mat-form-field style="width: 225px;">
                <mat-label>Fecha timbre</mat-label>
                <input id="i-cursor" matInput [matDatepicker]="picker" placeholder="dd/mm/aaaa" [formControl]="FechaF"
                    required>
                <mat-datepicker-toggle matSuffix [for]="picker" matTooltipPosition="right"
                    matTooltip="Seleccionar fecha dando click en el icono de calendario o escribir fecha con formato día/mes/año. Ejemplo: 12/04/1993">
                </mat-datepicker-toggle>
                <mat-datepicker touchUi #picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field style="width: 200px;">
                <mat-label>Hora timbre</mat-label>
                <input id="i-cursor" matInput [attr.step]="capturar_segundos" type="time" [formControl]="HoraF">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Acción timbre</mat-label>
                <mat-icon id="i-cursor" matSuffix matTooltipPosition="right" matTooltip="Acciónes de la marcación.">
                    touch_app
                </mat-icon>
                <mat-select [formControl]="accionF">
                    <mat-option *ngFor="let a of accion" [value]="a.value">
                        {{a.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Observación</mat-label>
                <textarea matInput #message maxlength="100" placeholder="Ingresar una descripción."
                    [formControl]="observacionF">
                </textarea>
                <mat-hint align="start" id="letras">
                    <strong>Ingresar hasta 100 caracteres</strong>
                </mat-hint>
                <mat-hint align="end" id="letras">{{message.value.length}} / 100</mat-hint>
            </mat-form-field>
        </div>
    </div>
    <div class="d-flex flex-wrap justify-content-evenly" id="contenedorBotones">
        <div class="bd-highlight d-flex align-items-center">
            <form method="post">
                <input (click)="ReseteoArchivo($event)" (change)="fileChange($event)" type="file"
                    [formControl]="archivoForm" id="file" accept="image/png, image/jpeg">
                <label for="file" class="btn-2" (click)="LimpiarNombreArchivo()">
                    Subir justificación
                </label>
            </form>
        </div>
        <div class="bd-highlight d-flex align-items-center">
            <input [required]='documento' type="text" id="respaldo" placeholder="Ningún archivo seleccionado"
                class="form-control" style="width: 200px;" [formControl]="nombreDocumento" readonly>
            <i *ngIf="HabilitarBtn" class="far fa-trash-alt" style="color:red; margin-left: 5px;" id="i-cursor"
                (click)="RetirarArchivo()" matSuffix matTooltipPosition="right"
                matTooltip="Eliminar archivo seleccionado.">
            </i>
        </div>
    </div>
    <div style="text-align: center; padding-bottom: 5px;">
        <button class="btn" [disabled]="!formulario.valid" (click)="InsertarTimbre(formulario.value)">
            Timbrar
        </button>
    </div>
</form>