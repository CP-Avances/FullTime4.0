<div class="container" style="padding-top: 15px;">
    <mat-card class="example-card mat-elevation-z8">
        <div id="titulo">
            <span>MODIFICAR PEDIDO ACCIÓN DE PERSONAL</span>
            <mat-icon class="float-right" id="cerrar" (click)="CerrarVentana(1,'')">highlight_off</mat-icon>
        </div>
        <div class="container nota" style="padding-top: 20px; margin-left: 20px;">
            <span>
                NOTA: Por favor llenar todos los campos obligatorios (*) del formulario para activar el botón
                Guardar.
            </span>
        </div>

        <!-- ****************************** FORMULARIO ******************************************* -->
        <mat-horizontal-stepper [linear]="isLinear" #stepper>

            <!-- ****************************** PRIMER FORMULARIO ******************************************* -->
            <mat-step [stepControl]="firstFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="icono" matSuffix matTooltipPosition="right"
                        matTooltip="Sección 1: Selección Funcionario">
                        settings
                    </mat-icon>
                </ng-template>
                <form [formGroup]="firstFormGroup">
                    <div class="row">
                        <div class="subtitulo">
                            <span>ACCIÓN DE PERSONAL</span>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label class="letra">Número acción de personal</mat-label>
                                    <input matInput placeholder="HU-001" formControlName="identificacionForm" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right" autocomplete="off"
                                        matTooltip="Ingresar un identificador del registro de acción de personal">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="inputDate">
                                    <mat-label>Fecha elaboración</mat-label>
                                    <input matInput [matDatepicker]="pickerF" placeholder="dd/mm/aaaa"
                                        [formControl]="fechaF" min="1950-01-31" max="2050-01-31" required>
                                    <mat-datepicker-toggle matSuffix [for]="pickerF" id="i-cursor"
                                        matTooltipPosition="right"
                                        matTooltip="Fecha en la que se realiza el registro de ingreso de acción de personal">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker touchUi #pickerF></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                            </div>
                        </div>
                    </div>

                    <div class="row" style="padding-top: 15px;">
                        <div class="subtitulo">
                            <span>DATOS DEL FUNCIONARIO</span>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="inputText">
                                    <mat-label>Seleccione el colaborador</mat-label>
                                    <input type="text" placeholder="Empleado" aria-label="Number" matInput
                                        [formControl]="funcionarioF" [matAutocomplete]="auto1" required>
                                    <mat-autocomplete #auto1="matAutocomplete">
                                        <mat-option *ngFor="let option of filtroNombre | async"
                                            [value]="option.empleado" (click)="oninfoEmpleado(option)">
                                            {{option.empleado.toUpperCase()}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Colaboradores registrados en el sistema.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-12 col-md-5">
                            <div class="row">
                                <div class="col-6">
                                    <div class="d-flex flex-wrap justify-content-start">
                                        <mat-form-field class="inputDate">
                                            <mat-label>Rige Desde</mat-label>
                                            <input matInput [matDatepicker]="picker" placeholder="dd/mm/aaaa"
                                                formControlName="fechaRigeDeseForm" required>
                                            <mat-datepicker-toggle matSuffix [for]="picker" id="i-cursor"
                                                matTooltipPosition="right"
                                                matTooltip="Ingresar fecha en la que rige el proceso acción de personal. Seleccione la fecha dando click en el icono de calendario o puede escribir la fecha con el formato  día/mes/año. Ejemplo: 12/04/1993">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker touchUi #picker></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="d-flex flex-wrap justify-content-start">
                                        <mat-form-field class="inputDate">
                                            <mat-label>Rige Hasta</mat-label>
                                            <input matInput [matDatepicker]="picker2" placeholder="dd/mm/aaaa"
                                                formControlName="fechaRigeHastaForm">
                                            <mat-datepicker-toggle matSuffix [for]="picker2" id="i-cursor"
                                                matTooltipPosition="right"
                                                matTooltip="Ingresar fecha en la finaliza el proceso acción de personal. Seleccione la fecha dando click en el icono de calendario o puede escribir la fecha con el formato  día/mes/año. Ejemplo: 12/04/1993">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker touchUi #picker2></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md"></div>
                    </div>
                </form>
                <br>
                <div class="d-flex flex-wrap justify-content-end">
                    <button mat-raised-button matStepperNext id="btn-raised" 
                    class="float-right">Siguiente</button>
                </div>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="icono" matSuffix matTooltipPosition="right" matTooltip="Sección 2:">
                        settings
                    </mat-icon>
                </ng-template>
                <form [formGroup]="secondFormGroup">
                    <div class="row">
                        <div class="subtitulo">
                            <span>TIPO DE ACCION (Configuracion de tipo de accion, al seleccionar el tipo de accion OTRO
                                se mostrara la informacion ingresada en el campo OTRO)</span>
                        </div>
                        <div class="col-11 col-md-6">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label>Tipo de acción</mat-label>
                                    <input type="text" aria-label="Number" matInput [formControl]="idTipoAccion"
                                        [matAutocomplete]="auto2" required>
                                    <mat-autocomplete #auto2="matAutocomplete"
                                        (optionSelected)="onTipoAccionSeleccionado($event)">
                                        <mat-option *ngFor="let option of filtroTipoAccion | async"
                                            [value]="option.descripcion">
                                            {{option.descripcion.toUpperCase()}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Lista de tipos de acción de personal registrados en el sistema.">
                                        manage_accounts
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                        
                    <div class="row">
                        <div class="col-md" [hidden]="activarOtro">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="contenedor-completo">
                                    <mat-label class="letra">Otro</mat-label>
                                    <input type="text" aria-label="Number" matInput formControlName="otroAccionForm"
                                        [readonly]="activarOtro">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingrese otro accion.">
                                        more_horiz
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-12 col-md-8">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field style="width: 85%;">
                                    <mat-label>En caso de requerir especificación:</mat-label>
                                    <textarea matInput maxlength="200" placeholder="Ej: Laboratorista"
                                        [formControl]="otroEspecificacion"></textarea>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingrese una explicación o detalle de otro.">
                                        notes
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md">
                            <div>
                                <mat-label>¿Presentó la declaración jurada?</mat-label>
                                <mat-radio-group class="example-radio-group" [formControl]="declaracionJuradaForm"
                                    aria-label="Select an option">
                                    <mat-radio-button class="example-radio-button" [value]="true">Si</mat-radio-button>
                                    <mat-radio-button class="example-radio-button" [value]="false">No
                                        aplica</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md">
                            <div class="subtitulo">
                                <span>Observación</span>
                            </div>
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field style="width: 90%;">
                                    <mat-label>Observación:</mat-label>
                                    <textarea matInput maxlength="200" [formControl]="observacionForm"></textarea>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingrese una observación.">
                                        article
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md">
                            <div class="subtitulo">
                                <span>MOTIVACIÓN (Se une la base legal del tipo de accion y la adicion)</span>
                            </div>
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field style="width: 90%;">
                                    <mat-label>Adición a base legal:</mat-label>
                                    <textarea matInput maxlength="200" placeholder="Ej: Laboratorista"
                                        [formControl]="baseLegalForm" (input)="onInputChange($event)"
                                        (focus)="onFocus()" (keydown)="onKeyDown($event)"></textarea>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Regresar a la lista de opciones existentes.">
                                        gavel
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </form>
                <br>
                <div class="d-flex flex-wrap justify-content-between">
                    <button mat-raised-button matStepperPrevious id="btn-raised" class="float-left">Atrás</button>
                    <button mat-raised-button matStepperNext id="btn-raised" class="float-right">Siguiente</button>
                </div>
            </mat-step>
            <mat-step [stepControl]="thirdFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="icono" matSuffix matTooltipPosition="right"
                        matTooltip="Sección 3: Situación del Funcionario">
                        manage_accounts
                    </mat-icon>
                </ng-template>
                <form [formGroup]="thirdFormGroup">
                    <div class="row">
                        <div class="col-12 col-md-5">
                            <div class="subtitulo">
                                <span>SITUACIÓN ACTUAL (Datos tomados desde la ficha del empleado)</span>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Proceso</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="tipoProcesoF"
                                            [matAutocomplete]="auto3" readonly required>
                                        <mat-autocomplete #auto3="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroProceso | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Sucursal</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="idSucursal"
                                            [matAutocomplete]="auto4" readonly>
                                        <mat-autocomplete #auto4="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroSucursal | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Nivel o unidad de gestión</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="idDepa"
                                            [matAutocomplete]="auto5">
                                        <mat-autocomplete #auto5="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroDepartamentos | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Unidad Administrativa</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="idDepaActual"
                                            [matAutocomplete]="auto6" readonly>
                                        <mat-autocomplete #auto6="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroDeparAdministrativaProuesta | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Lugar de trabajo</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="idCiudad"
                                            [matAutocomplete]="auto7" readonly>
                                        <mat-autocomplete #auto7="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroCiudad | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Grupo Ocupacional</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="grupoOcupacionalF" [matAutocomplete]="auto8" readonly>
                                        <mat-autocomplete #auto8="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroGrupoOcupacional | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>

                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Grado</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="gradoF"
                                            [matAutocomplete]="auto9" readonly required>
                                        <mat-autocomplete #auto9="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroGrado | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-error *ngIf="gradoF.hasError('noRegistrado')">
                                            El campo contiene un valor inválido ("NO REGISTRADO").
                                        </mat-error>
                                        <mat-error *ngIf="gradoF.hasError('required')">
                                            Este campo es obligatorio.
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="w-100">
                                        <mat-label class="letra">Denominacion del puesto propuesto</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="tipoCargoF"
                                            [matAutocomplete]="auto10" readonly>
                                        <mat-autocomplete #auto10="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroCargos | async"
                                                [value]="option.cargo">
                                                {{option.cargo.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>

                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Remuneración propuesta</mat-label>
                                        <input matInput type="tel" [formControl]="sueldoF" style="text-align: right;"
                                            (keypress)="IngresarSoloNumeros($event)" value="0" readonly>
                                        <span matTextPrefix>$&nbsp;</span>
                                        <span matTextSuffix>.00</span>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Partida Presupuestaria Individual</mat-label>
                                        <textarea matInput #acta maxlength="200"
                                            placeholder="Ingresar número del acta final del concurso"
                                            formControlName="actaForm" readonly></textarea>
                                        <mat-hint align="start"><strong>Ingresar hasta 200
                                                caracteres</strong></mat-hint>
                                        <mat-hint align="end">{{acta.value.length}} / 200</mat-hint>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-1" style="border-right: 1px solid #ccc;"></div>
                        <div class="col-1 mt-4"></div>
                        <div class="col-12 col-md-5">
                            <div class="subtitulo">
                                <span>SITUACIÓN PROPUESTA</span>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Proceso propuesto</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="procesoPropuesto"
                                            [matAutocomplete]="auto11">
                                        <mat-autocomplete #auto11="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroProceso | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Sucursal</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="idSucursalPropues" [matAutocomplete]="auto12">
                                        <mat-autocomplete #auto12="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroSucursalPropuesta | async"
                                                [value]="option.nombre" (click)="onSucursal(option)">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Nivel o unidad de gestión</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="idDepaPropues"
                                            [matAutocomplete]="auto13">
                                        <mat-autocomplete #auto13="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroDepartamentosProuesta | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Unidad Administrativa propuesta</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="idDepaAdminPropuesta" [matAutocomplete]="auto14">
                                        <mat-autocomplete #auto14="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroDeparAdministrativaProuesta | async"
                                                [value]="option.nombre">
                                                {{option.nombre.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label class="letra">Lugar de trabajo</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="idCiudadPropuesta" [matAutocomplete]="auto15">
                                        <mat-autocomplete #auto15="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroCiudad | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Grupo Ocupacional</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="grupoOcupacionalPropuestoF" [matAutocomplete]="auto16">
                                        <mat-autocomplete #auto16="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroGrupoOcupacional | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>

                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Grado</mat-label>
                                        <input type="text" aria-label="Number" matInput [formControl]="gradoPropuestoF"
                                            [matAutocomplete]="auto17">
                                        <mat-autocomplete #auto17="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroGrado | async"
                                                [value]="option.descripcion">
                                                {{option.descripcion.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="w-100">
                                        <mat-label class="letra">Denominacion del puesto propuesto</mat-label>
                                        <input type="text" aria-label="Number" matInput
                                            [formControl]="tipoCargoPropuestoF" [matAutocomplete]="auto18">
                                        <mat-autocomplete #auto18="matAutocomplete">
                                            <mat-option *ngFor="let option of filtroCargos | async"
                                                [value]="option.cargo">
                                                {{option.cargo.toUpperCase()}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>

                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Remuneración propuesta</mat-label>
                                        <input matInput type="tel" [formControl]="sueldoPropuestoF"
                                            style="text-align: right;" (keypress)="IngresarSoloNumeros($event)"
                                            value="0">
                                        <span matTextPrefix>$&nbsp;</span>
                                        <span matTextSuffix>.00</span>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="d-flex flex-wrap justify-content-start">
                                    <mat-form-field class="contenedor-completo w-100">
                                        <mat-label>Partida Presupuestaria Individual</mat-label>
                                        <textarea matInput #acta maxlength="200"
                                            placeholder="Ingresar número del acta final del concurso"
                                            [formControl]="actaPropuestaF"></textarea>
                                        <mat-hint align="start"><strong>Ingresar hasta 200
                                                caracteres</strong></mat-hint>
                                        <mat-hint align="end">{{acta.value.length}} / 200</mat-hint>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-12 col-md-6">
                            <div class="d-flex flex-wrap justify-content-start">
                                <div class="declaracion-radio-group ml-3">
                                    <mat-label class="letra">HABILITAR EL FORMULARIO DE POSESIÓN DEL PUESTO </mat-label>
                                    <mat-checkbox class="example-margin" [formControl]="habilitarForm4"></mat-checkbox>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <br><br>
                <div class="d-flex flex-wrap justify-content-between w-75 m-auto">
                    <button mat-raised-button id="btn-raised" matStepperPrevious class="float-left">Atrás</button>
                    <button mat-raised-button id="btn-raised" class="float-right"
                        (click)="validarForm(thirdFormGroup.value, stepper)">Siguiente</button>
                </div>
            </mat-step>
            <!-- ****************************** CUARTO FORMULARIO ******************************************* -->
            <mat-step *ngIf="habilitarformPosesion" [stepControl]="fourthFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="icono" matSuffix matTooltipPosition="right"
                        matTooltip="Sección 4: Posesión del puesto">
                        how_to_reg
                    </mat-icon>
                </ng-template>
                <form [formGroup]="fourthFormGroup">
                    <div class="subtitulo">
                        <span>POSESIÓN DEL PUESTO</span>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-5">
                            <label class="ml-3">YO,</label>
                            <mat-form-field class="contenedor-completo">
                                <input type="text" style="font-size: small; width: 100%;" matInput
                                    [formControl]="funcionarioF" readonly>
                            </mat-form-field>
                        </div>
                        <div class="col-12 col-md-7">
                            <label>CON NRO. DE DOCUMENTO DE IDENTIFICACIÓN:</label>
                            <mat-form-field class="inputCedula">
                                <input type="text" style="font-size: small;" matInput [formControl]="cedualF" required
                                    readonly>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md ml-3"><label>JURO LEALTAD AL ESTADO ECUATORIANO.</label></div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="contenedor-completo">
                                    <mat-label class="letra">Lugar de trabajo</mat-label>
                                    <input type="text" aria-label="Number" matInput [formControl]="idCiudad"
                                        [matAutocomplete]="auto19" readonly>
                                    <mat-autocomplete #auto19="matAutocomplete">
                                        <mat-option *ngFor="let option of filtroCiudad | async"
                                            [value]="option.descripcion">
                                            {{option.descripcion.toUpperCase()}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-12 col-md-4">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="inputDate">
                                    <mat-label>Fecha</mat-label>
                                    <input matInput [matDatepicker]="pickerFecha" placeholder="dd/mm/aaaa"
                                        formControlName="fechaPosesionForm" min="1950-01-31" max="2050-01-31">
                                    <mat-datepicker-toggle matSuffix [for]="pickerFecha" id="i-cursor"
                                        matTooltipPosition="right" matTooltip="Fecha en la que inicio a trabajar.">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker touchUi #pickerFecha></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md ml-3"><label>** (EN CASO DE GANADOR DE CONCURSO DE MÉRITOS Y
                                OPOSICIÓN)</label></div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="contenedor-completo">
                                    <mat-label class="letra">Número acta final</mat-label>
                                    <input matInput placeholder="0001" formControlName="actaFinalForm"
                                        autocomplete="off">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar el número de acta final.">
                                        confirmation_number
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-6 col-md-4">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field class="inputDate">
                                    <mat-label>Fecha</mat-label>
                                    <input matInput [matDatepicker]="pickerFechaActa" placeholder="dd/mm/aaaa"
                                        formControlName="fechaActaFinalForm" min="1950-01-31" max="2050-01-31">
                                    <mat-datepicker-toggle matSuffix [for]="pickerFechaActa" id="i-cursor"
                                        matTooltipPosition="right" matTooltip="Fecha de acta final.">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker touchUi #pickerFechaActa></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-12 col-md-6"></div>
                    </div>
                </form>
                <br>
                <div class="d-flex flex-wrap justify-content-between">
                    <button mat-raised-button id="btn-raised" matStepperPrevious class="float-left">Atrás</button>
                    <button mat-raised-button id="btn-raised" matStepperNext class="float-right">Siguiente</button>
                </div>
            </mat-step>
            <!-- <mat-step [stepControl]="fourthFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="icono" matSuffix matTooltipPosition="right" matTooltip="Sección 4:">
                        settings
                    </mat-icon>
                </ng-template>
                <form [formGroup]="fourthFormGroup">
                    <div class="row">
                        <div class="col-md">
                            <div class="subtitulo">
                                <span>LA PERSONA REEMPLAZA A</span>
                            </div>
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label class="letra">Nombre</mat-label>
                                    <input matInput placeholder="" formControlName="nombreReempForm"
                                        (keypress)="IngresarSoloLetras($event)">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar el nombre">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label class="letra">Puesto</mat-label>
                                    <input matInput placeholder="" formControlName="puestoReempForm"
                                        (keypress)="IngresarSoloLetras($event)">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar el puesto.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Funciones</mat-label>
                                    <textarea matInput #funciones maxlength="200" placeholder="Ingresar las funcines"
                                        formControlName="funcionesReempForm"></textarea>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar las funciones.">
                                        help_outline
                                    </mat-icon>
                                    <mat-hint align="start"><strong>Ingresar hasta 200 caracteres</strong></mat-hint>
                                    <mat-hint align="end">{{funciones.value.length}} / 200</mat-hint>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label class="letra">Número de acción</mat-label>
                                    <input class="numero" matInput placeholder="13369689656312"
                                        formControlName="accionReempForm" (keypress)="IngresarSoloNumeros($event)">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar número de acción.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Primera fecha</mat-label>
                                    <input matInput [matDatepicker]="picker4" placeholder="dd/mm/aaaa"
                                        formControlName="fechaReempForm">
                                    <mat-datepicker-toggle matSuffix [for]="picker4" id="i-cursor"
                                        matTooltipPosition="right"
                                        matTooltip="Ingresar primera fecha. Seleccione la fecha dando click en el icono de calendario o puede escribir la fecha con el formato  día/mes/año. Ejemplo: 12/04/1993">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker touchUi #picker4></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="subtitulo">
                                <span>POSESIÓN/NOTIFICACIÓN</span>
                            </div>
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label class="letra">Posesión/Notificación</mat-label>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Lista de posesiones y notificaciones.">
                                        help_outline
                                    </mat-icon>
                                    <mat-select formControlName="posesionNotificacionForm" required>
                                        <mat-option *ngFor="let ta of posesiones_notificaciones" [value]="ta.nombre">
                                            {{ta.nombre}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Descripción</mat-label>
                                    <textarea matInput #descripcionP maxlength="200" placeholder="Ingresar las funcines"
                                        formControlName="descripcionPForm"></textarea>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar la descripción de la posesión o notificación">
                                        help_outline
                                    </mat-icon>
                                    <mat-hint align="start"><strong>Ingresar hasta 200 caracteres</strong></mat-hint>
                                    <mat-hint align="end">{{descripcionP.value.length}} / 200</mat-hint>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </form>
                <br>
                <div class="d-flex flex-wrap justify-content-between">
                    <button mat-raised-button id="btn-raised" matStepperPrevious class="float-left">Atrás</button>
                </div>
            </mat-step> -->

        </mat-horizontal-stepper>
        <div style="text-align: center; margin-bottom: 3%;">
            <button id="btn-raised" class="btn btn-sm"
                (click)="InsertarAccionPersonal(firstFormGroup.value,secondFormGroup.value,thirdFormGroup.value,fourthFormGroup.value)"
                [disabled]="!firstFormGroup.valid || !secondFormGroup.valid || !thirdFormGroup.valid || !fourthFormGroup.valid"
                value="Guardar">
                Guardar
            </button>
        </div>
    </mat-card>
</div>